---
import Layout from "../layouts/Layout.astro";
---

<!-- <div class="bg-white backdrop-blur-lg border-black border-b-4 h-screen w-screen absolute animate-slideUp z-50" id="loader"></div> -->
<Layout title="title">
  <div class="max-w-5xl m-auto flex justify-center items-center">
    <div class="relative z-0 space-y-14 h-[275vh] flex flex-col items-center justify-center" x-data="{ entered: '0' }">
      <!-- s-1 -->
      <section x-intersect.margin.-45%.0.-45%.0="entered = '0'" class="[--i:0] max-w-xl w-[576px] overflow-hidden" :style="`--e:${entered}`">
        <div
          class="relative h-96 bg-white rounded-2xl border border-slate-100 overflow-hidden transition-transform duration-700 ease-in-out z-[4] flex drop-shadow-[0_10px_5px_rgba(0,0,0,0.01)] justify-start items-end px-14 py-20"
          :class="entered >= 0 ? 'translate-y-0' : '-translate-y-[calc(100%*(var(--i)-var(--e)))]'"
        >
          <!-- Card content -->
          <div class="flex flex-col gap-4">
            <p class="font-['Sora'] text-base flex gap-4 items-end">hi. <span class="text-xs opacity-20">01.Home</span></p>
            <div class="flex flex-col gap-0">
              <div class="font-['Libre_caslon_text'] text-5xl italic font-medium">I'm Yasin.</div>
              <p class="font-['Sora'] text-5xl font-semibold">I <span id="spin"></span></p>
            </div>
          </div>
        </div>
      </section>
      <!-- s-2 -->
      <section x-intersect.margin.-40%.0.-45%.0="entered = '1'" class="[--i:1] max-w-xl w-[576px] rotate-1 z-[3]" :style="`--e:${entered}`">
        <div
          class="h-96 bg-white rounded-2xl border border-slate-100 overflow-hidden transition-transform duration-700 ease-in-out z-[3] flex drop-shadow-[0_10px_5px_rgba(0,0,0,0.01)] justify-start items-end px-14 py-10"
          :class="entered >= 1 ? 'translate-y-0' : '-translate-y-[calc(114%*(var(--i)-var(--e)))]'"
        >
          <!-- Card content -->
          <div class="flex flex-1 w w-full h-full bg-red-500">
            <img/>
          </div>
          <div class="flex flex-1 w w-full h-full bg-blue-500"></div>
        </div>
      </section>
      <!-- s-3 -->
      <section x-intersect.margin.-40%.0.-45%.0="entered = '2'" class="[--i:2]" :style="`--e:${entered}`">
        <div class="relative w-96 h-96 bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden transition-transform duration-700 ease-in-out z-[2]" :class="entered >= 2 ? 'translate-y-0' : '-translate-y-[calc(114%*(var(--i)-var(--e)))]'">
          <!-- Card content -->
        </div>
      </section>
      <!-- s-4 -->
      <section x-intersect.margin.-40%.0.-45%.0="entered = '3'" class="[--i:3]" :style="`--e:${entered}`">
        <div class="relative w-96 h-96 bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden transition-transform duration-700 ease-in-out z-[1]" :class="entered >= 3 ? 'translate-y-0' : '-translate-y-[calc(114%*(var(--i)-var(--e)))]'">
          <!-- Card content -->
        </div>
      </section>
      <!-- s-5 -->
      <section x-intersect.margin.-40%.0.-45%.0="entered = '4'" class="[--i:4]" :style="`--e:${entered}`">
        <div class="relative w-96 h-96 bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden transition-transform duration-700 ease-in-out z-[0]" :class="entered >= 4 ? 'translate-y-0' : '-translate-y-[calc(114%*(var(--i)-var(--e)))]'">
          <!-- Card content -->
        </div>
      </section>
    </div>
  </div>
</Layout>

<!-- <script>
  //
  function createKeyframes(name, keyframes) {
    const style = document.createElement("style");
    style.innerHTML = `
  @keyframes ${name} {
      ${Object.entries(keyframes)
        .map(
          ([percent, properties]) =>
            `${percent} { ${Object.entries(properties)
              .map(([prop, value]) => `${prop}: ${value}`)
              .join("; ")} }`
        )
        .join(" ")}
  }
`;
    document.head.appendChild(style);
  }

  // Define keyframes
  const keyframes = {
    "text-slide-2": {
      "0%, 40%": { transform: "translateY(0%)" },
      "50%, 90%": { transform: "translateY(-33.33%)" },
      "125%": { transform: "translateY(-66.66%)" },
    },
    "text-slide-3": {
      "0%, 26.66%": { transform: "translateY(0%)" },
      "33.33%, 60%": { transform: "translateY(-25%)" },
      "66.66%, 93.33%": { transform: "translateY(-50%)" },
      "125%": { transform: "translateY(-75%)" },
    },
    "text-slide-4": {
      "0%, 20%": { transform: "translateY(0%)" },
      "25%, 45%": { transform: "translateY(-20%)" },
      "50%, 70%": { transform: "translateY(-40%)" },
      "75%, 95%": { transform: "translateY(-60%)" },
      "100%": { transform: "translateY(-80%)" },
    },
    "text-slide-5": {
      "0%, 16%": { transform: "translateY(0%)" },
      "20%, 36%": { transform: "translateY(-16.66%)" },
      "40%, 56%": { transform: "translateY(-33.33%)" },
      "60%, 76%": { transform: "translateY(-50%)" },
      "80%, 96%": { transform: "translateY(-66.66%)" },
      "100%": { transform: "translateY(-83.33%)" },
    },
    "text-slide-6": {
      "0%, 13.33%": { transform: "translateY(0%)" },
      "16.66%, 30%": { transform: "translateY(-14.28%)" },
      "33.33%, 46.66%": { transform: "translateY(-28.57%)" },
      "50%, 63.33%": { transform: "translateY(-42.85%)" },
      "66.66%, 80%": { transform: "translateY(-57.14%)" },
      "83.33%, 96.66%": { transform: "translateY(-71.42%)" },
      "100%": { transform: "translateY(-85.71%)" },
    },
    "text-slide-7": {
      "0%, 11.43%": { transform: "translateY(0%)" },
      "14.28%, 25.71%": { transform: "translateY(-12.5%)" },
      "28.57%, 40%": { transform: "translateY(-25%)" },
      "42.85%, 54.28%": { transform: "translateY(-37.5%)" },
      "57.14%, 68.57%": { transform: "translateY(-50%)" },
      "71.42%, 82.85%": { transform: "translateY(-62.5%)" },
      "85.71%, 97.14%": { transform: "translateY(-75%)" },
      "100%": { transform: "translateY(-87.5%)" },
    },
    "text-slide-8": {
      "0%, 10%": { transform: "translateY(0%)" },
      "12.5%, 22.5%": { transform: "translateY(-11.11%)" },
      "25%, 35%": { transform: "translateY(-22.22%)" },
      "37.5%, 47.5%": { transform: "translateY(-33.33%)" },
      "50%, 60%": { transform: "translateY(-44.44%)" },
      "62.5%, 72.5%": { transform: "translateY(-55.55%)" },
      "75%, 85%": { transform: "translateY(-66.66%)" },
      "87.5%, 97.5%": { transform: "translateY(-77.77%)" },
      "100%": { transform: "translateY(-88.88%)" },
    },
  };

  // Create keyframes
  for (const [name, frames] of Object.entries(keyframes)) {
    createKeyframes(name, frames);
  }

  function applyAnimation(element, name, duration, timingFunction, iterationCount) {
    element.style.animation = `${name} ${duration} ${timingFunction} ${iterationCount}`;
  }

  // Example usage:
  // Apply 'text-slide-2' animation to an element with id 'animated-text'
  const element = document.getElementById("animated-text");
  applyAnimation(element, "text-slide-2", "5s", "cubic-bezier(0.83, 0, 0.17, 1)", "infinite");

  //
</script> -->

<!-- <div class="container max-w-xl h-96 bg-white rounded-2xl border-[1px] border-slate-100 flex drop-shadow-[0_10px_5px_rgba(0,0,0,0.01)] justify-start items-end px-14 py-20"></div> -->
